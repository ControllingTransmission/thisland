var listener = new window.keypress.Listener();

var runnerGroundCombos = listener.register_many([
	{
    "keys"          : "space",
    "is_exclusive"  : true,
    "on_keydown"    : function() {
      runnerGround.rotateColorset(1);
    },
    "on_keyup"      : function(e) {
    }
  },
	{
    "keys"          : "w",
    "is_exclusive"  : true,
    "prevent_repeat": true,
    "on_keydown"    : function() {
      camera.speed.position.z += -10
    },
    "on_keyup"      : function(e) {
    	camera.speed.position.z -= -10
    }
  },
	{
    "keys"          : "s",
    "is_exclusive"  : true,
    "prevent_repeat": true,
    "on_keydown"    : function() {
      camera.speed.position.z += +10
    },
    "on_keyup"      : function(e) {
    	camera.speed.position.z -= +10
    }
  },
	{
    "keys"          : "a",
    "is_exclusive"  : true,
    "prevent_repeat": true,
    "on_keydown"    : function() {
      camera.speed.position.x -= +10
    },
    "on_keyup"      : function(e) {
    	camera.speed.position.x += +10
    }
  },
	{
    "keys"          : "d",
    "is_exclusive"  : true,
    "prevent_repeat": true,
    "on_keydown"    : function() {
      camera.speed.position.x += +10
    },
    "on_keyup"      : function(e) {
    	camera.speed.position.x -= +10
    }
  },
  {
    "keys"          : "g",
    "is_exclusive"  : true,
    "prevent_repeat": true,
    "on_keydown"    : function() {
    	
    },
    "on_keyup"      : function(e) {
    	camera.speed.position.z -= -10
    }
  },
])


/* skybox rotation */

$(document).bind('keydown', 'y', function(e) { 
	cameraCube.rotation.y += .01
}); 

$(document).bind('keydown', 'ctrl+y', function(e) { 
	cameraCube.rotation.speed.y += .005
}); 

$(document).bind('keydown', 'u', function(e) { 
	cameraCube.rotation.y -= .01
}); 

$(document).bind('keydown', 'ctrl+u', function(e) { 
	cameraCube.rotation.speed.y -= .005
}); 

$(document).bind('keydown', '6', function(e) { 
	cameraCube.rotation.x += .01
}); 

$(document).bind('keydown', 'ctrl+6', function(e) { 
	cameraCube.rotation.speed.x += .005
}); 

$(document).bind('keydown', '7', function(e) { 
	cameraCube.rotation.x -= .01
}); 

$(document).bind('keydown', 'ctrl+7', function(e) { 
	cameraCube.rotation.speed.x -= .005
}); 

$(document).bind('keydown', 'h', function(e) { 
	cameraCube.rotation.z += .01
}); 

$(document).bind('keydown', 'ctrl+h', function(e) { 
	cameraCube.rotation.speed.z += .005
}); 

$(document).bind('keydown', 'j', function(e) { 
	cameraCube.rotation.z -= .01
}); 

$(document).bind('keydown', 'ctrl+j', function(e) { 
	cameraCube.rotation.speed.z -= .005
}); 

/* stop skybox rotation */
$(document).bind('keydown', 's', function(e) { 
	cameraCube.rotation.speed.x = 0
	cameraCube.rotation.speed.y = 0
	cameraCube.rotation.speed.z = 0
}); 

/* reset skybox rotation */
$(document).bind('keydown', 'ctrl+s', function(e) { 
	cameraCube.rotation.x = 0
	cameraCube.rotation.y = 0
	cameraCube.rotation.z = 0
});

/* random skybox rotation */
$(document).bind('keydown', 'alt+ctrl+s', function(e) { 
	cameraCube.rotation.x = Math.random()*255
	cameraCube.rotation.y = Math.random()*255
	cameraCube.rotation.z = Math.random()*255
});

/* end skybox rotation */

$(document).bind('keydown', 'q', function(e) { 
	skybox.materialIndex++
	if(skybox.materialIndex==skybox.materials.length)
		skybox.materialIndex=0
	skybox.material = skybox.materials[skybox.materialIndex]
	skybox.material.needsUpdate = true
});

$(document).bind('keyup', 'q', function(e) { 
	skybox.materialIndex = 0
	skybox.material = skybox.materials[skybox.materialIndex]
	skybox.material.needsUpdate = true
});


